{"ast":null,"code":"import _defineProperty from\"/home/kara/Documents/nosenf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/kara/Documents/nosenf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/kara/Documents/nosenf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/kara/Documents/nosenf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/kara/Documents/nosenf/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{login}from'../../services/auth';import'./auth.css';import'bootstrap/dist/css/bootstrap.css';import{Form,Button,Alert,Container}from'react-bootstrap';import'../../styles/button.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',message:''};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,username=_this$state.username,password=_this$state.password;// console.log (`state before  `, this.state)\nlogin(username,password).then(function(data){console.log(\"login data\",data);if(data.message){_this.setState({message:data.message,username:'',password:''});}else{// successfully logged in\n// update the state for the parent component\nconsole.log(\"before the setUser\");console.log(_this.props);_this.props.setUser(data);console.log(\"after the setUser\");_this.props.history.push('/');}});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"centerAuth\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loginLogo\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"../../Images/LightStGallenLogo.png\",alt:\"St Gallen Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Get involed with your city\"})]}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"boxOn\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:this.state.message})}),/*#__PURE__*/_jsxs(\"div\",{className:\"containerButtons\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"emailButton button\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"iconImage\",src:\"../../Images/emailIcon.png\",alt:\"email icon\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\" Continue with email \"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"appleButton button\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"iconImage\",src:\"../../Images/appleIcon.png\",alt:\"email icon\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\" Continue with Apple \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"facebookButton button\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"iconImage\",src:\"../../Images/fbIcon.png\",alt:\"email icon\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\" Continue with Facebook \"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"loginBottomImage\",children:/*#__PURE__*/_jsx(\"img\",{src:\"../../Images/CityOutline.png\",alt:\"Silhouette of a city skyline\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"signupLoginSwitch\",children:[\"Need to create an account?  \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"})]})]});}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["/home/kara/Documents/nosenf/client/src/components/auth/Login.js"],"names":["React","Component","Link","login","Form","Button","Alert","Container","Login","state","username","password","message","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","then","data","console","log","props","setUser","history","push"],"mappings":"+uBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,KAAT,KAAsB,qBAAtB,CACA,MAAO,YAAP,CACA,MAAO,kCAAP,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,KAAvB,CAA8BC,SAA9B,KAA+C,iBAA/C,CACA,MAAO,yBAAP,C,2FAGqBC,CAAAA,K,uTAEnBC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,QAAQ,CAAE,EAFJ,CAGNC,OAAO,CAAE,EAHH,C,OAMRC,Y,CAAe,SAAAC,KAAK,CAAI,mBACEA,KAAK,CAACC,MADR,CACdC,IADc,eACdA,IADc,CACRC,KADQ,eACRA,KADQ,CAEtB,MAAKC,QAAL,oBACGF,IADH,CACUC,KADV,GAGD,C,OAEDE,Y,CAAe,SAAAL,KAAK,CAAI,CACtBA,KAAK,CAACM,cAAN,GADsB,gBAGS,MAAKX,KAHd,CAGdC,QAHc,aAGdA,QAHc,CAGJC,QAHI,aAGJA,QAHI,CAKtB;AAEAR,KAAK,CAAGO,QAAH,CAAcC,QAAd,CAAL,CAA8BU,IAA9B,CAAqC,SAAAC,IAAI,CAAI,CAC3CC,OAAO,CAACC,GAAR,cAA0BF,IAA1B,EAEA,GAAIA,IAAI,CAACV,OAAT,CAAkB,CAChB,MAAKM,QAAL,CAAc,CACZN,OAAO,CAAEU,IAAI,CAACV,OADF,CAEZF,QAAQ,CAAE,EAFE,CAGZC,QAAQ,CAAE,EAHE,CAAd,EAMD,CAPD,IAOO,CACL;AACA;AACAY,OAAO,CAACC,GAAR,uBACAD,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAjB,EACA,MAAKA,KAAL,CAAWC,OAAX,CAAmBJ,IAAnB,EACAC,OAAO,CAACC,GAAR,sBACA,MAAKC,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CACF,CAnBD,EAoBD,C,uDAGD,iBAAS,CAEP,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YACA,GAAG,CAAC,oCADJ,CAEA,GAAG,CAAC,gBAFJ,EADF,cAME,kDANF,GADF,cAUE,KAAC,SAAD,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,kCACE,UAAG,SAAS,CAAC,OAAb,UACG,KAAKnB,KAAL,CAAWG,OADd,EADF,EADF,cAOA,aAAK,SAAS,CAAC,kBAAf,wBAEQ,aAAK,SAAS,CAAC,oBAAf,wBACE,YAAK,SAAS,CAAG,WAAjB,CACE,GAAG,CAAC,4BADN,CAEE,GAAG,CAAE,YAFP,EADF,cAKI,KAAC,IAAD,EAAM,EAAE,CAAG,UAAX,mCALJ,GAFR,cASQ,aATR,cAUQ,aAAK,SAAS,CAAC,oBAAf,wBACA,YAAK,SAAS,CAAG,WAAjB,CACI,GAAG,CAAC,4BADR,CAEI,GAAG,CAAE,YAFT,EADA,cAKE,KAAC,IAAD,EAAM,EAAE,CAAG,GAAX,mCALF,GAVR,cAkBQ,aAAK,SAAS,CAAC,uBAAf,wBACA,YAAK,SAAS,CAAG,WAAjB,CACI,GAAG,CAAC,yBADR,CAEI,GAAG,CAAE,YAFT,EADA,cAKE,KAAC,IAAD,EAAM,EAAE,CAAG,GAAX,sCALF,GAlBR,GAPA,GADF,EAVF,cAgFE,YAAK,SAAS,CAAC,kBAAf,uBACM,YACE,GAAG,CAAC,8BADN,CAEE,GAAG,CAAC,8BAFN,EADN,EAhFF,cAwFM,aAAK,SAAS,CAAC,mBAAf,uDAC8B,KAAC,IAAD,EAAM,EAAE,CAAG,SAAX,qBAD9B,GAxFN,GADF,CAgGD,C,mBA/IgCX,S,SAAdO,K","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { login } from '../../services/auth';\nimport './auth.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { Form, Button, Alert, Container } from 'react-bootstrap';\nimport '../../styles/button.css';\n\n\nexport default class Login extends Component {\n\n  state = {\n    username: '',\n    password: '',\n    message: ''\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { username, password } = this.state;\n\n    // console.log (`state before  `, this.state)\n\n    login ( username , password ).then ( data => {\n      console.log(`login data`, data)\n\n      if (data.message) {\n        this.setState({\n          message: data.message,\n          username: '',\n          password: ''\n        });\n\n      } else {\n        // successfully logged in\n        // update the state for the parent component\n        console.log(`before the setUser`)\n        console.log(this.props)\n        this.props.setUser(data);\n        console.log(`after the setUser`)\n        this.props.history.push('/');\n      }\n    });\n  };\n\n\n  render (){\n\n    return (\n      <div className=\"centerAuth\">\n        <div className=\"loginLogo\">\n          <img\n          src=\"../../Images/LightStGallenLogo.png\"\n          alt=\"St Gallen Logo\"\n          />\n\n          <h1 >Get involed with your city</h1>\n        </div>\n\n        <Container>\n          <div className=\"boxOn\">\n            <div>\n              <p className=\"error\">\n                {this.state.message}\n              </p>\n            </div>\n\n          <div className='containerButtons'>\n  \n                  <div className=\"emailButton button\">\n                    <img className = \"iconImage\"\n                      src='../../Images/emailIcon.png'\n                      alt= 'email icon'\n                    />\n                      <Link to = \"/profile\"> Continue with email </Link>\n                  </div>\n                  <hr></hr>\n                  <div className=\"appleButton button\">\n                  <img className = \"iconImage\"\n                      src='../../Images/appleIcon.png'\n                      alt= 'email icon'\n                    />\n                    <Link to = \"/\"> Continue with Apple </Link>\n                  </div>\n\n                  <div className=\"facebookButton button\">\n                  <img className = \"iconImage\"\n                      src='../../Images/fbIcon.png'\n                      alt= 'email icon'\n                    />\n                    <Link to = \"/\"> Continue with Facebook </Link>\n                  </div>\n  \n              \n          </div>\n\n           {/* Login mocked for PoC */}\n            {/* <Form onSubmit={this.handleSubmit}>\n              <Form.Group>\n                <Form.Label htmlFor='username'>Username: </Form.Label>\n                <Form.Control \n                  size=\"lg\"\n                  type = \"text\"\n                  name = \"username\"\n                  id = \"username\"\n                  value = {this.state.username}\n                  onChange = {this.handleChange}\n                />\n              </Form.Group>\n    \n              <Form.Group>\n                <Form.Label htmlFor=\"password\">Password </Form.Label>\n                    <Form.Control \n                        size=\"lg\"\n                        type = \"password\"\n                        name = \"password\"\n                        id = \"password\"\n                        value = {this.state.password}\n                        onChange = {this.handleChange}\n                    />  \n                </Form.Group>\n    \n                <Button variant=\"primary\" type='submit'>Login</Button>\n    \n            </Form> */}\n            \n          </div>\n        </Container>\n\n        <div className=\"loginBottomImage\">\n              <img\n                src='../../Images/CityOutline.png'\n                alt=\"Silhouette of a city skyline\"\n              />\n            </div>\n\n\n            <div className=\"signupLoginSwitch\">\n              Need to create an account?  <Link to = \"/signup\">Sign up</Link>\n            </div>            \n        \n    \n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}